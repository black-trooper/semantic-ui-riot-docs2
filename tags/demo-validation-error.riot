<demo-validation-error>
  <div class="main container">
    <content-navigation title="Validation Error" items="{ navigation }" />

    <!-- =================================================================================== -->
    <!--                                                                               Types -->
    <!-- =================================================================================== -->
    <h2 class="ui dividing header">Types</h2>

    <!-- ====================================================== -->
    <!--                                                 Inline -->
    <!--                                                 ====== -->
    <section-header title="Inline">Validation messages can also appear inline.</section-header>
    <section>
      <div class="ui segment secondary top attached example">
        Example
        <i class="icon code" onclick="{ toggleExample }"></i>
      </div>
      <div class="ui segment bottom attached">
        <div class="ui form">
          <div class="field">
            <label>Address</label>
            <input type="text" />
            <su-validation-error name="address" errors="{ errors }" />
          </div>
          <div class="inline field">
            <su-checkbox>I agree to the terms and conditions</su-checkbox>
            <su-validation-error name="agree" errors="{ errors }" />
          </div>
        </div>
      </div>
      <div class="ui segment bottom attached inverted transition hidden">
        <pre class="language-markup"><code>
          <div class="ui form">
            <div class="field">
              <label>Address</label>
              <input type="text" />
              <su-validation-error name="address" errors="{ errors }" />
            </div>
            <div class="inline field">
              <su-checkbox>I agree to the terms and conditions</su-checkbox>
              <su-validation-error name="agree" errors="{ errors }" />
            </div>
          </div>

          <script>
            export default {
              errors: {
                address: ['The address field is required.'],
                agree: ['You must agree to the terms and conditions']
              }
            }
          </script>
        </code></pre>
      </div>
    </section>

    <!-- ====================================================== -->
    <!--                                                  Block -->
    <!--                                                  ===== -->
    <section-header title="Block">Validation messages can also appear block.</section-header>
    <section>
      <div class="ui segment secondary top attached example">
        Example
        <i class="icon code" onclick="{ toggleExample }"></i>
      </div>
      <div class="ui segment bottom attached">
        <div class="ui form">
          <div class="field">
            <label>Address</label>
            <input type="text" />
          </div>
          <div class="inline field">
            <su-checkbox>I agree to the terms and conditions</su-checkbox>
          </div>
          <su-validation-error errors="{ errors }" />
        </div>
      </div>
      <div class="ui segment bottom attached inverted transition hidden">
        <pre class="language-markup"><code>
            <div class="ui form">
              <div class="field">
                <label>Address</label>
                <input type="text" />
              </div>
              <div class="inline field">
                <su-checkbox>I agree to the terms and conditions</su-checkbox>
              </div>
              <su-validation-error errors="{ errors }" />
            </div>

            <script>
              export default {
                errors: {
                  address: ['The address field is required.'],
                  agree: ['You must agree to the terms and conditions']
                }
              }
            </script>
          </code></pre>
      </div>
    </section>

    <!-- =================================================================================== -->
    <!--                                                                             Example -->
    <!-- =================================================================================== -->
    <!-- <h2 class="ui dividing header">Example</h2> -->

    <!-- ====================================================== -->
    <!--                                       validatorjs-riot -->
    <!--                                       ================ -->
    <!--
    <section-header title="validatorjs-riot">Use with <a href="https://www.npmjs.com/package/validatorjs-riot"
        target="_blank">validatorjs-riot</a></section-header>
    <section>
      <div class="ui segment secondary top attached example">
        Example
        <i class="icon code" onclick="{ toggleExample }"></i>
      </div>
      <div class="ui segment bottom attached">
        <div class="ui form">
          <div class="field {errors2.address ? 'error' : ''}">
            <label>Address</label>
            <input type="text" ref="address" validate="required" />
            <su-validation-error name="address" errors="{ errors2 }" />
          </div>
          <div class="field {errors2.email ? 'error' : ''}">
            <label>Email</label>
            <input type="text" ref="email" validate="required|email" value="not an email address.com" />
            <su-validation-error name="email" errors="{ errors2 }" />
          </div>
          <div class="inline field {errors2.agree ? 'error' : ''}">
            <su-checkbox-group ref="agree" validate="required">
              <su-checkbox value="1">I agree to the terms and conditions</su-checkbox>
            </su-checkbox-group>
            <su-validation-error name="agree" errors="{ errors2 }" />
          </div>
          <button type="button" class="ui button" onclick="{ register }">Register</button>
        </div>
      </div>
      <div class="ui segment bottom attached inverted transition hidden">
        <pre class="language-markup"><code>
          <div class="ui form">
            <div class="field {errors.address ? 'error' : ''}">
              <label>Address</label>
              <input type="text" ref="address" validate="required" />
              <su-validation-error name="address" errors="{ errors }" />
            </div>
            <div class="field {errors.email ? 'error' : ''}">
              <label>Email</label>
              <input type="text" ref="email" validate="required|email" value="not an email address.com" />
              <su-validation-error name="email" errors="{ errors }" />
            </div>
            <div class="inline field {errors.agree ? 'error' : ''}">
              <su-checkbox-group ref="agree" validate="required">
                <su-checkbox value="1">I agree to the terms and conditions</su-checkbox>
              </su-checkbox-group>
              <su-validation-error name="agree" errors="{ errors }" />
            </div>
            <button type="button" class="ui button" onclick="{ register }">Register</button>
          </div>
    
          <script>
            import Validator from 'validatorjs-riot'

            export default {
              errors: {},

              register() {
                this.errors = {}
                const validation = new Validator(this.refs)
                if (validation.fails()) {
                  this.errors = validation.errors.all()
                  return
                }
                // ...
              }
            }
          </script>
        </code></pre>
      </div>
    </section>
    -->
  </div>

  <script>
    import Validator from 'validatorjs-riot'

    export default {
      errors: {
        address: ['The address field is required.'],
        agree: ['You must agree to the terms and conditions']
      },
      errors2: {},

      onMounted() {
        this.navigation = this.extractNavigation(this.root)
        this.update()
      },

      register() {
        this.errors2 = {}
        const validation = new Validator(this.$$('[validate]'))
        if (validation.fails()) {
          console.log({validation})
          this.errors2 = validation.errors.all()
          console.log(this.errors2)
          this.update()
          return
        }
      }
    }
  </script>
</demo-validation-error>